(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"9QTQ":function(e,t,o){"use strict";o.r(t),o.d(t,"GoogleLoginModule",function(){return w});var r=o("ofXK"),s=o("tyNb"),n=o("bOdf"),i=o("lJxs"),c=o("JIr8"),a=o("AytR"),l=o("fXoL"),g=o("tk/3"),h=o("DbDQ");let u=(()=>{class e{constructor(e,t){this.http=e,this.errorResponseService=t,this.googleLoginUrl="google-login",this.authorizationHeader="Authorization",this.jwtKey="jwt"}logIn(e){return this.http.post(a.a.SERVER_URL+this.googleLoginUrl,e,{observe:"response"}).pipe(Object(i.a)(e=>localStorage.setItem(this.jwtKey,e.headers.get(this.authorizationHeader))),Object(c.a)(this.errorResponseService.handleError))}getJwtToken(){return localStorage.getItem(this.jwtKey)}logOut(){localStorage.removeItem(this.jwtKey)}}return e.\u0275fac=function(t){return new(t||e)(l.Sb(g.b),l.Sb(h.a))},e.\u0275prov=l.Fb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class p{constructor(e){this.idToken=e}}var b=o("0jD/");const f=[{path:"",component:(()=>{class e{constructor(e,t,o){this.router=e,this.googleLoginService=t,this.currentUserService=o,this.accessTokenKey="access_token",this.googleLoginError=!1}ngOnInit(){let e="",t="";location.hash.replace("#","").split("&").forEach(o=>{const r=o.split("=");"access_token"==r[0]&&(e=r[1]),"id_token"==r[0]&&(t=r[1])}),localStorage.setItem(this.accessTokenKey,e);const o=new p(t);this.googleLoginSubscription=this.googleLoginService.logIn(o).pipe(Object(n.a)(()=>this.currentUserService.getCurrentUser())).subscribe(()=>{this.googleLoginError=!1,this.router.navigate([""])},()=>this.googleLoginError=!0)}}return e.\u0275fac=function(t){return new(t||e)(l.Jb(s.b),l.Jb(u),l.Jb(b.a))},e.\u0275cmp=l.Db({type:e,selectors:[["daja-google-login"]],decls:0,vars:0,template:function(e,t){},styles:[""]}),e})()}];let d=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.Hb({type:e}),e.\u0275inj=l.Gb({imports:[[s.f.forChild(f)],s.f]}),e})(),w=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.Hb({type:e}),e.\u0275inj=l.Gb({imports:[[r.c,d]]}),e})()}}]);