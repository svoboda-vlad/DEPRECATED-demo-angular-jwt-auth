(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{X3zk:function(o,r,n){"use strict";n.r(r),n.d(r,"LoginModule",function(){return f});var t=n("ofXK"),e=n("tyNb"),i=n("3Pt+"),s=n("XNvx"),c=n("bOdf"),b=n("AytR"),l=n("fXoL"),u=n("0jD/");function a(o,r){1&o&&(l.Ob(0,"div",9),l.Ob(1,"strong"),l.kc(2,"Failed to login!"),l.Nb(),l.kc(3," Please check your username and password.\n"),l.Nb())}const g=[{path:"",component:(()=>{class o{constructor(o,r,n,t){this.fb=o,this.router=r,this.loginService=n,this.currentUserService=t,this.loginError=!1,this.loginForm=this.fb.group({username:[null,[i.i.required]],password:[null,[i.i.required]]})}ngOnInit(){this.loginService.getJwtToken()&&this.router.navigate([""])}logIn(){const o=new s.a(this.loginForm.get("username").value,this.loginForm.get("password").value);this.loginSubscription=this.loginService.logIn(o).pipe(Object(c.a)(()=>this.currentUserService.getCurrentUser())).subscribe(()=>{this.loginError=!1,this.router.navigate([""])},()=>this.loginError=!0)}ngOnDestroy(){null!=this.loginSubscription&&this.loginSubscription.unsubscribe()}logInWithGoogle(){location.href="https://accounts.google.com/o/oauth2/v2/auth?client_id="+b.a.GOOGLE_CLIENT_ID+"&redirect_uri="+b.a.FRONT_END_URL+"google-login&response_type=id_token%20token&scope=profile&nonce=abcdef"}}return o.\u0275fac=function(r){return new(r||o)(l.Jb(i.b),l.Jb(e.b),l.Jb(s.b),l.Jb(u.a))},o.\u0275cmp=l.Db({type:o,selectors:[["daja-login"]],decls:17,vars:2,consts:[["class","alert alert-danger",4,"ngIf"],[1,"btn","btn-primary",3,"click"],[1,"form",3,"formGroup","ngSubmit"],[1,"form-group"],["for","username"],["type","text","formControlName","username",1,"form-control"],["for","password"],["type","password","formControlName","password",1,"form-control"],["type","submit",1,"btn","btn-primary"],[1,"alert","alert-danger"]],template:function(o,r){1&o&&(l.Ob(0,"h2"),l.kc(1,"Login"),l.Nb(),l.ic(2,a,4,0,"div",0),l.Ob(3,"div"),l.Ob(4,"button",1),l.Vb("click",function(){return r.logInWithGoogle()}),l.kc(5," Log In With Google "),l.Nb(),l.Nb(),l.Ob(6,"form",2),l.Vb("ngSubmit",function(){return r.logIn()}),l.Ob(7,"div",3),l.Ob(8,"label",4),l.kc(9,"Username"),l.Nb(),l.Kb(10,"input",5),l.Nb(),l.Ob(11,"div",3),l.Ob(12,"label",6),l.kc(13,"Password"),l.Nb(),l.Kb(14,"input",7),l.Nb(),l.Ob(15,"button",8),l.kc(16,"Login"),l.Nb(),l.Nb()),2&o&&(l.zb(2),l.bc("ngIf",r.loginError),l.zb(4),l.bc("formGroup",r.loginForm))},directives:[t.k,i.j,i.f,i.d,i.a,i.e,i.c],styles:[""]}),o})()}];let p=(()=>{class o{}return o.\u0275fac=function(r){return new(r||o)},o.\u0275mod=l.Hb({type:o}),o.\u0275inj=l.Gb({imports:[[e.f.forChild(g)],e.f]}),o})(),f=(()=>{class o{}return o.\u0275fac=function(r){return new(r||o)},o.\u0275mod=l.Hb({type:o}),o.\u0275inj=l.Gb({imports:[[t.c,p,i.h]]}),o})()}}]);