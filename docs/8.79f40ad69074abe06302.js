(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{X3zk:function(r,n,e){"use strict";e.r(n),e.d(n,"LoginModule",function(){return p});var t=e("ofXK"),o=e("tyNb"),i=e("3Pt+"),s=e("XNvx"),a=e("bOdf"),u=e("fXoL"),b=e("0jD/");function c(r,n){1&r&&(u.Ob(0,"div",9),u.Ob(1,"strong"),u.kc(2,"Failed to login!"),u.Nb(),u.kc(3," Please check your username and password.\n"),u.Nb())}const l=[{path:"",component:(()=>{class r{constructor(r,n,e,t){this.fb=r,this.router=n,this.loginService=e,this.currentUserService=t,this.loginError=!1,this.loginForm=this.fb.group({username:[null,[i.i.required]],password:[null,[i.i.required]]})}ngOnInit(){this.loginService.getJwtToken()&&this.router.navigate([""])}logIn(){const r=new s.a(this.loginForm.get("username").value,this.loginForm.get("password").value);this.loginSubscription=this.loginService.logIn(r).pipe(Object(a.a)(()=>this.currentUserService.getCurrentUser())).subscribe(()=>{this.loginError=!1,this.router.navigate([""])},()=>this.loginError=!0)}useDefaultCredentials(){const r=new s.a("user1","pass123");this.loginForm.patchValue({username:r.username,password:r.password})}ngOnDestroy(){null!=this.loginSubscription&&this.loginSubscription.unsubscribe()}}return r.\u0275fac=function(n){return new(n||r)(u.Jb(i.b),u.Jb(o.b),u.Jb(s.b),u.Jb(b.a))},r.\u0275cmp=u.Db({type:r,selectors:[["daja-login"]],decls:16,vars:2,consts:[["class","alert alert-danger",4,"ngIf"],[1,"btn","btn-primary",3,"click"],[1,"form",3,"formGroup","ngSubmit"],[1,"form-group"],["for","username"],["type","text","formControlName","username",1,"form-control"],["for","password"],["type","password","formControlName","password",1,"form-control"],["type","submit",1,"btn","btn-primary"],[1,"alert","alert-danger"]],template:function(r,n){1&r&&(u.Ob(0,"h2"),u.kc(1,"Login"),u.Nb(),u.ic(2,c,4,0,"div",0),u.Ob(3,"button",1),u.Vb("click",function(){return n.useDefaultCredentials()}),u.kc(4," Use default credentials\n"),u.Nb(),u.Ob(5,"form",2),u.Vb("ngSubmit",function(){return n.logIn()}),u.Ob(6,"div",3),u.Ob(7,"label",4),u.kc(8,"Username"),u.Nb(),u.Kb(9,"input",5),u.Nb(),u.Ob(10,"div",3),u.Ob(11,"label",6),u.kc(12,"Password"),u.Nb(),u.Kb(13,"input",7),u.Nb(),u.Ob(14,"button",8),u.kc(15,"Login"),u.Nb(),u.Nb()),2&r&&(u.zb(2),u.bc("ngIf",n.loginError),u.zb(3),u.bc("formGroup",n.loginForm))},directives:[t.k,i.j,i.f,i.d,i.a,i.e,i.c],styles:[""]}),r})()}];let g=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=u.Hb({type:r}),r.\u0275inj=u.Gb({imports:[[o.f.forChild(l)],o.f]}),r})(),p=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=u.Hb({type:r}),r.\u0275inj=u.Gb({imports:[[t.c,g,i.h]]}),r})()}}]);