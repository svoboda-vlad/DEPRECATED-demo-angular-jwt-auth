(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{X3zk:function(r,e,n){"use strict";n.r(e),n.d(e,"LoginModule",(function(){return g}));var t=n("ofXK"),o=n("tyNb"),s=n("3Pt+"),i=n("XNvx"),a=n("fXoL"),u=n("0jD/");function c(r,e){1&r&&(a.Ob(0,"div",10),a.Ob(1,"strong"),a.wc(2,"Failed to login!"),a.Nb(),a.wc(3," Please check your username and password. "),a.Nb())}const b=[{path:"",component:(()=>{class r{constructor(r,e,n,t){this.fb=r,this.router=e,this.loginService=n,this.currentUserService=t,this.loginError=!1,this.loginForm=this.fb.group({username:[null,[s.l.required]],password:[null,[s.l.required]]})}ngOnInit(){this.loginService.getJwtToken()&&this.router.navigate([""])}logIn(){const r=new i.a(this.loginForm.get("username").value,this.loginForm.get("password").value);this.loginSubscription=this.loginService.logIn(r).subscribe(()=>{this.loginError=!1,this.currentUserService.getCurrentUser().subscribe(()=>this.router.navigate([""]))},()=>this.loginError=!0)}useDefaultCredentials(){const r=new i.a("user","password");this.loginForm.patchValue({username:r.username,password:r.password})}ngOnDestroy(){this.loginSubscription.unsubscribe()}}return r.\u0275fac=function(e){return new(e||r)(a.Jb(s.b),a.Jb(o.a),a.Jb(i.b),a.Jb(u.a))},r.\u0275cmp=a.Db({type:r,selectors:[["daja-login"]],decls:17,vars:2,consts:[[1,"mb-2","p-3"],["class","alert alert-danger",4,"ngIf"],[1,"btn","btn-primary",3,"click"],[1,"form",3,"formGroup","ngSubmit"],[1,"form-group"],["for","username"],["type","text","formControlName","username",1,"form-control"],["for","password"],["type","password","formControlName","password",1,"form-control"],["type","submit",1,"btn","btn-primary"],[1,"alert","alert-danger"]],template:function(r,e){1&r&&(a.Ob(0,"div",0),a.Ob(1,"h2"),a.wc(2,"Login"),a.Nb(),a.uc(3,c,4,0,"div",1),a.Ob(4,"button",2),a.Zb("click",(function(){return e.useDefaultCredentials()})),a.wc(5," Use default credentials "),a.Nb(),a.Ob(6,"form",3),a.Zb("ngSubmit",(function(){return e.logIn()})),a.Ob(7,"div",4),a.Ob(8,"label",5),a.wc(9,"Username"),a.Nb(),a.Kb(10,"input",6),a.Nb(),a.Ob(11,"div",4),a.Ob(12,"label",7),a.wc(13,"Password"),a.Nb(),a.Kb(14,"input",8),a.Nb(),a.Ob(15,"button",9),a.wc(16,"Login"),a.Nb(),a.Nb(),a.Nb()),2&r&&(a.xb(3),a.gc("ngIf",e.loginError),a.xb(3),a.gc("formGroup",e.loginForm))},directives:[t.k,s.n,s.i,s.d,s.a,s.h,s.c],styles:[""]}),r})()}];let l=(()=>{class r{}return r.\u0275mod=a.Hb({type:r}),r.\u0275inj=a.Gb({factory:function(e){return new(e||r)},imports:[[o.c.forChild(b)],o.c]}),r})(),g=(()=>{class r{}return r.\u0275mod=a.Hb({type:r}),r.\u0275inj=a.Gb({factory:function(e){return new(e||r)},imports:[[t.c,l,s.k]]}),r})()}}]);