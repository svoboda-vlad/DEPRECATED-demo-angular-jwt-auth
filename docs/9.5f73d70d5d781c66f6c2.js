(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{X3zk:function(r,e,n){"use strict";n.r(e),n.d(e,"LoginModule",function(){return d});var t=n("ofXK"),o=n("tyNb"),i=n("3Pt+"),s=n("XNvx"),c=n("bOdf"),b=n("AytR"),l=n("fXoL"),a=n("0jD/");function u(r,e){1&r&&(l.Ob(0,"div",10),l.Ob(1,"strong"),l.kc(2,"Failed to login!"),l.Nb(),l.kc(3," Please check your username and password.\n"),l.Nb())}const g=[{path:"",component:(()=>{class r{constructor(r,e,n,t){this.fb=r,this.router=e,this.loginService=n,this.currentUserService=t,this.loginError=!1,this.loginForm=this.fb.group({username:[null,[i.i.required]],password:[null,[i.i.required]]})}ngOnInit(){this.loginService.getJwtToken()&&this.router.navigate([""])}logIn(){const r=new s.a(this.loginForm.get("username").value,this.loginForm.get("password").value);this.loginSubscription=this.loginService.logIn(r).pipe(Object(c.a)(()=>this.currentUserService.getCurrentUser())).subscribe(()=>{this.loginError=!1,this.router.navigate([""])},()=>this.loginError=!0)}useDefaultCredentials(){const r=new s.a("user1","pass123");this.loginForm.patchValue({username:r.username,password:r.password})}ngOnDestroy(){null!=this.loginSubscription&&this.loginSubscription.unsubscribe()}logInWithGoogle(){location.href="https://accounts.google.com/o/oauth2/v2/auth?client_id="+b.a.GOOGLE_CLIENT_ID+"&redirect_uri="+b.a.FRONT_END_URL+"google-login&response_type=id_token%20token&scope=profile&nonce=abcdef"}}return r.\u0275fac=function(e){return new(e||r)(l.Jb(i.b),l.Jb(o.b),l.Jb(s.b),l.Jb(a.a))},r.\u0275cmp=l.Db({type:r,selectors:[["daja-login"]],decls:20,vars:2,consts:[["class","alert alert-danger",4,"ngIf"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-outline-primary",3,"click"],[1,"form",3,"formGroup","ngSubmit"],[1,"form-group"],["for","username"],["type","text","formControlName","username",1,"form-control"],["for","password"],["type","password","formControlName","password",1,"form-control"],["type","submit",1,"btn","btn-primary"],[1,"alert","alert-danger"]],template:function(r,e){1&r&&(l.Ob(0,"h2"),l.kc(1,"Login"),l.Nb(),l.ic(2,u,4,0,"div",0),l.Ob(3,"div"),l.Ob(4,"button",1),l.Vb("click",function(){return e.logInWithGoogle()}),l.kc(5," Log In With Google "),l.Nb(),l.Nb(),l.Ob(6,"div"),l.Ob(7,"button",2),l.Vb("click",function(){return e.useDefaultCredentials()}),l.kc(8," Use default credentials "),l.Nb(),l.Nb(),l.Ob(9,"form",3),l.Vb("ngSubmit",function(){return e.logIn()}),l.Ob(10,"div",4),l.Ob(11,"label",5),l.kc(12,"Username"),l.Nb(),l.Kb(13,"input",6),l.Nb(),l.Ob(14,"div",4),l.Ob(15,"label",7),l.kc(16,"Password"),l.Nb(),l.Kb(17,"input",8),l.Nb(),l.Ob(18,"button",9),l.kc(19,"Login"),l.Nb(),l.Nb()),2&r&&(l.zb(2),l.bc("ngIf",e.loginError),l.zb(7),l.bc("formGroup",e.loginForm))},directives:[t.k,i.j,i.f,i.d,i.a,i.e,i.c],styles:[""]}),r})()}];let p=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=l.Hb({type:r}),r.\u0275inj=l.Gb({imports:[[o.f.forChild(g)],o.f]}),r})(),d=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=l.Hb({type:r}),r.\u0275inj=l.Gb({imports:[[t.c,p,i.h]]}),r})()}}]);