(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{dTRx:function(r,e,t){"use strict";t.r(e),t.d(e,"RegistrationUserModule",function(){return N});var s=t("ofXK"),i=t("tyNb"),n=t("3Pt+"),o=t("JIr8"),a=t("AytR"),b=t("fXoL"),c=t("tk/3"),u=t("DbDQ");let d=(()=>{class r{constructor(r,e){this.http=r,this.errorResponseService=e,this.registrationUserUrl="register"}registerUser(r){return this.http.post(a.a.SERVER_URL+this.registrationUserUrl,r).pipe(Object(o.a)(this.errorResponseService.handleError))}}return r.\u0275fac=function(e){return new(e||r)(b.Sb(c.b),b.Sb(u.a))},r.\u0275prov=b.Fb({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();class g{constructor(r,e){this.username=r,this.password=e}}var m=t("XNvx"),l=t("bOdf");function p(r,e){1&r&&(b.Ob(0,"div",8),b.Ob(1,"strong"),b.kc(2,"Failed to register!"),b.Nb(),b.kc(3," Please check your username and password.\n"),b.Nb())}function h(r,e){1&r&&(b.Ob(0,"div"),b.kc(1," Username must be between 1 and 50 characters long. "),b.Nb())}function f(r,e){if(1&r&&(b.Ob(0,"div",8),b.ic(1,h,2,0,"div",9),b.Nb()),2&r){const r=b.Xb();b.zb(1),b.bc("ngIf",r.username.errors.required||r.username.errors.minlength||r.username.errors.maxlength)}}function v(r,e){1&r&&(b.Ob(0,"div"),b.kc(1," Password must be between 4 and 100 characters long. "),b.Nb())}function w(r,e){if(1&r&&(b.Ob(0,"div",8),b.ic(1,v,2,0,"div",9),b.Nb()),2&r){const r=b.Xb();b.zb(1),b.bc("ngIf",r.password.errors.required||r.password.errors.minlength||r.password.errors.maxlength)}}const U=[{path:"",component:(()=>{class r{constructor(r,e,t,s){this.fb=r,this.router=e,this.registrationUserService=t,this.loginService=s,this.registrationUserError=!1,this.registrationUserForm=this.fb.group({username:[null,[n.i.required,n.i.minLength(1),n.i.maxLength(50)]],password:[null,[n.i.required,n.i.minLength(4),n.i.maxLength(100)]]})}ngOnInit(){this.loginService.getJwtToken()&&this.router.navigate([""])}register(){const r=new g(this.registrationUserForm.get("username").value,this.registrationUserForm.get("password").value);this.registrationUserSubscription=this.registrationUserService.registerUser(r).pipe(Object(l.a)(()=>this.loginService.logIn(new m.a(r.username,r.password)))).subscribe(()=>{this.registrationUserError=!1,this.router.navigate([""])},()=>this.registrationUserError=!0)}get username(){return this.registrationUserForm.get("username")}get password(){return this.registrationUserForm.get("password")}ngOnDestroy(){null!=this.registrationUserSubscription&&this.registrationUserSubscription.unsubscribe()}}return r.\u0275fac=function(e){return new(e||r)(b.Jb(n.b),b.Jb(i.b),b.Jb(d),b.Jb(m.b))},r.\u0275cmp=b.Db({type:r,selectors:[["daja-registration-user"]],decls:16,vars:5,consts:[["class","alert alert-danger",4,"ngIf"],[1,"form",3,"formGroup","ngSubmit"],[1,"form-group"],["for","username"],["type","text","formControlName","username",1,"form-control"],["for","password"],["type","password","formControlName","password",1,"form-control"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"alert","alert-danger"],[4,"ngIf"]],template:function(r,e){1&r&&(b.Ob(0,"h2"),b.kc(1,"User Registration"),b.Nb(),b.ic(2,p,4,0,"div",0),b.Ob(3,"form",1),b.Vb("ngSubmit",function(){return e.register()}),b.Ob(4,"div",2),b.Ob(5,"label",3),b.kc(6,"Username"),b.Nb(),b.Kb(7,"input",4),b.ic(8,f,2,1,"div",0),b.Nb(),b.Ob(9,"div",2),b.Ob(10,"label",5),b.kc(11,"Password"),b.Nb(),b.Kb(12,"input",6),b.ic(13,w,2,1,"div",0),b.Nb(),b.Ob(14,"button",7),b.kc(15,"Register"),b.Nb(),b.Nb()),2&r&&(b.zb(2),b.bc("ngIf",e.registrationUserError),b.zb(1),b.bc("formGroup",e.registrationUserForm),b.zb(5),b.bc("ngIf",e.username.invalid&&(e.username.dirty||e.username.touched)),b.zb(5),b.bc("ngIf",e.password.invalid&&(e.password.dirty||e.password.touched)),b.zb(1),b.bc("disabled",e.registrationUserForm.invalid))},directives:[s.k,n.j,n.f,n.d,n.a,n.e,n.c],styles:[""]}),r})()}];let O=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=b.Hb({type:r}),r.\u0275inj=b.Gb({imports:[[i.f.forChild(U)],i.f]}),r})(),N=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=b.Hb({type:r}),r.\u0275inj=b.Gb({imports:[[s.c,O,n.h]]}),r})()}}]);