(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{dTRx:function(e,r,i){"use strict";i.r(r),i.d(r,"RegistrationUserModule",function(){return y});var t=i("ofXK"),n=i("tyNb"),s=i("3Pt+"),a=i("VGjC"),o=i("XNvx"),b=i("bOdf"),m=i("fXoL");function c(e,r){1&e&&(m.Ob(0,"div",12),m.Ob(1,"strong"),m.kc(2,"Failed to register!"),m.Nb(),m.kc(3," Please check your username and password.\n"),m.Nb())}function g(e,r){1&e&&(m.Ob(0,"div"),m.kc(1," Username must be between 1 and 255 characters long. "),m.Nb())}function u(e,r){if(1&e&&(m.Ob(0,"div",12),m.ic(1,g,2,0,"div",13),m.Nb()),2&e){const e=m.Xb();m.zb(1),m.bc("ngIf",e.username.errors.required||e.username.errors.minlength||e.username.errors.maxlength)}}function d(e,r){1&e&&(m.Ob(0,"div"),m.kc(1," Password must be between 4 and 100 characters long. "),m.Nb())}function l(e,r){if(1&e&&(m.Ob(0,"div",12),m.ic(1,d,2,0,"div",13),m.Nb()),2&e){const e=m.Xb();m.zb(1),m.bc("ngIf",e.password.errors.required||e.password.errors.minlength||e.password.errors.maxlength)}}function f(e,r){1&e&&(m.Ob(0,"div"),m.kc(1," Given name must be between 1 and 255 characters long. "),m.Nb())}function v(e,r){if(1&e&&(m.Ob(0,"div",12),m.ic(1,f,2,0,"div",13),m.Nb()),2&e){const e=m.Xb();m.zb(1),m.bc("ngIf",e.givenName.errors.required||e.givenName.errors.minlength||e.givenName.errors.maxlength)}}function h(e,r){1&e&&(m.Ob(0,"div"),m.kc(1," Family name must be between 1 and 255 characters long. "),m.Nb())}function N(e,r){if(1&e&&(m.Ob(0,"div",12),m.ic(1,h,2,0,"div",13),m.Nb()),2&e){const e=m.Xb();m.zb(1),m.bc("ngIf",e.familyName.errors.required||e.familyName.errors.minlength||e.familyName.errors.maxlength)}}const p=[{path:"",component:(()=>{class e{constructor(e,r,i,t){this.fb=e,this.router=r,this.userService=i,this.loginService=t,this.registrationUserError=!1,this.registrationUserForm=this.fb.group({username:[null,[s.i.required,s.i.minLength(1),s.i.maxLength(255)]],password:[null,[s.i.required,s.i.minLength(4),s.i.maxLength(100)]],givenName:[null,[s.i.required,s.i.minLength(1),s.i.maxLength(255)]],familyName:[null,[s.i.required,s.i.minLength(1),s.i.maxLength(255)]]})}ngOnInit(){this.loginService.getJwtToken()&&this.router.navigate([""])}register(){const e=new a.a(this.registrationUserForm.get("username").value,this.registrationUserForm.get("password").value,this.registrationUserForm.get("givenName").value,this.registrationUserForm.get("familyName").value);this.registrationUserSubscription=this.userService.registerUser(e).pipe(Object(b.a)(()=>this.loginService.logIn(new o.a(e.username,e.password)))).subscribe(()=>{this.registrationUserError=!1,this.router.navigate([""])},()=>this.registrationUserError=!0)}get username(){return this.registrationUserForm.get("username")}get password(){return this.registrationUserForm.get("password")}get givenName(){return this.registrationUserForm.get("givenName")}get familyName(){return this.registrationUserForm.get("familyName")}ngOnDestroy(){null!=this.registrationUserSubscription&&this.registrationUserSubscription.unsubscribe()}}return e.\u0275fac=function(r){return new(r||e)(m.Jb(s.b),m.Jb(n.b),m.Jb(a.c),m.Jb(o.b))},e.\u0275cmp=m.Db({type:e,selectors:[["daja-registration-user"]],decls:26,vars:7,consts:[["class","alert alert-danger",4,"ngIf"],[1,"form",3,"formGroup","ngSubmit"],[1,"form-group"],["for","username"],["type","text","formControlName","username",1,"form-control"],["for","password"],["type","password","formControlName","password",1,"form-control"],["for","givenName"],["type","text","formControlName","givenName",1,"form-control"],["for","familyName"],["type","text","formControlName","familyName",1,"form-control"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"alert","alert-danger"],[4,"ngIf"]],template:function(e,r){1&e&&(m.Ob(0,"h2"),m.kc(1,"User Registration"),m.Nb(),m.ic(2,c,4,0,"div",0),m.Ob(3,"form",1),m.Vb("ngSubmit",function(){return r.register()}),m.Ob(4,"div",2),m.Ob(5,"label",3),m.kc(6,"Username"),m.Nb(),m.Kb(7,"input",4),m.ic(8,u,2,1,"div",0),m.Nb(),m.Ob(9,"div",2),m.Ob(10,"label",5),m.kc(11,"Password"),m.Nb(),m.Kb(12,"input",6),m.ic(13,l,2,1,"div",0),m.Nb(),m.Ob(14,"div",2),m.Ob(15,"label",7),m.kc(16,"Given Name"),m.Nb(),m.Kb(17,"input",8),m.ic(18,v,2,1,"div",0),m.Nb(),m.Ob(19,"div",2),m.Ob(20,"label",9),m.kc(21,"Family Name"),m.Nb(),m.Kb(22,"input",10),m.ic(23,N,2,1,"div",0),m.Nb(),m.Ob(24,"button",11),m.kc(25,"Register"),m.Nb(),m.Nb()),2&e&&(m.zb(2),m.bc("ngIf",r.registrationUserError),m.zb(1),m.bc("formGroup",r.registrationUserForm),m.zb(5),m.bc("ngIf",r.username.invalid&&(r.username.dirty||r.username.touched)),m.zb(5),m.bc("ngIf",r.password.invalid&&(r.password.dirty||r.password.touched)),m.zb(5),m.bc("ngIf",r.givenName.invalid&&(r.givenName.dirty||r.givenName.touched)),m.zb(5),m.bc("ngIf",r.familyName.invalid&&(r.familyName.dirty||r.familyName.touched)),m.zb(1),m.bc("disabled",r.registrationUserForm.invalid))},directives:[t.k,s.j,s.f,s.d,s.a,s.e,s.c],styles:[""]}),e})()}];let w=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=m.Hb({type:e}),e.\u0275inj=m.Gb({imports:[[n.f.forChild(p)],n.f]}),e})(),y=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=m.Hb({type:e}),e.\u0275inj=m.Gb({imports:[[t.c,w,s.h]]}),e})()}}]);